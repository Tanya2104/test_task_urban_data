# Технический отчёт по структурированию данных

## Структура данных

### 1. Метаданные проектов
**Файл:** `data/processed/metadata/projects_metadata.csv`
**Структура:**
project_id,project_name,city,type,has_technical_task,has_estimate,has_schedule,has_visual_plans
1,Площадь Борцов Революции,Тюмень,городская_площадь,TRUE,TRUE,FALSE,TRUE

Назначение: Быстрый поиск проектов по характеристикам

### 2. Извлечённые трудозатраты
**Файл:** data/processed/estimates/extracted_work_items.csv
**Структура:**
work_item,unit,quantity,man_hours_per_unit,total_man_hours,category
"Валка деревьев",м3,18.76,4.49,84.2324,подготовительные

**Формула преобразования:**
Длительность_дней = total_man_hours ÷ (8_часов × количество_рабочих)

### 3. Восстановленные графики
**Файл:** data/processed/schedules/reconstructed_schedule.csv
**Структура:**
work_item,start_date,end_date,duration_days,workers_required,dependencies
"Валка деревьев",2024-06-01,2024-06-06,5.26,2,

### 4. Метаданные визуальных планов
**Файл:** data/processed/metadata/visual_plans_metadata.csv
**Структура:**
plan_type,objects_detected,coverage_area_m2,file_name
ситуационный_план,"участок,границы,дороги",3250,ул_лунина_план.pdf

## Методология извлечения данных
**Для текстовых/табличных данных:**
- Поиск на порталах госзакупок (clearspending.ru)
- Скачивание полных пакетов документов
- Ручное извлечение ключевых полей
- Структурирование в CSV форматы

**Для визуальных данных:**
- Сбор PDF с чертежами и планами
- Анализ структуры документов
- Создание метаданных для каждого типа плана
- Категоризация по типам объектов

## Технические ограничения
- Форматы данных: PDF (сканы), Excel, DOCX
- Качество OCR: Не всегда распознаётся текст
- Стандартизация: Каждый муниципалитет использует свои шаблоны
- Объём: Некоторые проекты содержат 100+ страниц

## Рекомендации по автоматизации
- Парсер PDF: Использовать pdfplumber + pytesseract
- Парсер Excel: pandas.read_excel с обработкой ошибок
- База данных: PostgreSQL для хранения структурированных данных
- API: FastAPI для доступа к данным из системы "ТОР"